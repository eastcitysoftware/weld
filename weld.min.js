(t=>{let o={_binders:{},apply(t=document.body){var e;for(e of t.querySelectorAll("[data-wd-bind], [wd-bind]")){var r=e.getAttribute("data-wd-bind")||e.getAttribute("wd-bind");if(r&&o._binders[r]){var d,n=(e=>{if(!e)return null;let t="";t=e.startsWith("{")?e.replace(/([{,]\s*)(\w+)(\s*:)/g,'$1"$2"$3').replace(/(:\s*)'([\w\s\n\r!"#$%&()*+,-./:<=>?@[\]^_`{|}~]+)'/g,'$1"$2"'):!!/^true$/i.test(e)||!/^false$/i.test(e)&&(/^\d+/.test(e)?parseInt(e):/^\d\.+/.test(e)?parseFloat(e):/^\w/i.test(e)?`"${e}"`:e);try{return JSON.parse(`{"__weld__":${t}}`).__weld__}catch(t){return console.error("Invalid binding data:",e,t),{}}})(e.getAttribute("data-wd-attr")||e.getAttribute("wd-attr")),a={};for(d of e.querySelectorAll("[data-wd-target], [wd-target]")){var i=d.getAttribute("data-wd-target")||d.getAttribute("wd-target");a[i]=d}null===n?o._binders[r](e,a):o._binders[r](e,n,a)}}},bind(t,e){this._binders[t]=e},dom:{append(t,e){Array.isArray(e)||(e=[e]);var r,d=document.createDocumentFragment();for(r of e)null!=r&&d.appendChild("string"==typeof r?document.createTextNode(r):r);t.appendChild(d)},find(t,e=document.body){return e.querySelectorAll(t)},get(t,e=document.body){return e.querySelector(t)},set(t,e){Array.isArray(e)||(e=[e]),t.replaceChildren(...e)}},el(t,e,r){var d=r,n="string"==typeof t?(t=>{let e,r,d=[],n=[...t.matchAll(/([#.]*)(\w+)/gi)];for(var a of n)r||"#"!==a[1]?"."===a[1]?d.push(a[2]):e=e||a[2]:r=a[2];return t=document.createElement(e),r&&(t.id=r),d.length&&t.classList.add(...d),t})(t):t;if("string"==typeof e||"number"==typeof e||"boolean"==typeof e?n.textContent=e:"object"==typeof e&&(d=e),d&&"object"==typeof d)for(var a in d)a.startsWith("on")&&"function"==typeof d[a]?n.addEventListener(a.slice(2).toLowerCase(),d[a]):a in n&&n[a]!==d[a]?n[a]=d[a]:n.hasAttribute(a)&&n.getAttribute(a)===d[a]||n.setAttribute(a,d[a]);return n}};"function"==typeof define&&define.amd?define(()=>o):"undefined"!=typeof module&&module.exports?module.exports=o:t.weld=o})(this);
