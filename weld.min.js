(t=>{let i={_binders:{},apply(t=document.body){e(t)},bind(t,e){this._binders[t]=e},el(t,e){return r(t,e)},dom:{append(t,e){d(t,e)},find(t,e=document.body){return e.querySelectorAll(t)},get(t,e=document.body){return e.querySelector(t)},set(t,e){t.replaceChildren(...e)}}},e=t=>{var e;for(e of t.querySelectorAll("[data-wd-bind], [wd-bind]")){var r=e.getAttribute("data-wd-bind")||e.getAttribute("wd-bind");if(r&&i._binders[r]){var d,n=o(e.getAttribute("data-wd-attr")||e.getAttribute("wd-attr")),a={};for(d of e.querySelectorAll("[data-wd-target], [wd-target]"))a[d.getAttribute("data-wd-target")||d.getAttribute("wd-target")]=d;null===n?i._binders[r](e,a):i._binders[r](e,n,a)}}},o=e=>{if(!e)return null;let t="";t=e.startsWith("{")?e.replace(/([{,]\s*)(\w+)(\s*:)/g,'$1"$2"$3').replace(/(:\s*)'([\w\s\n\r!"#$%&()*+,-./:<=>?@[\]^_`{|}~]+)'/g,'$1"$2"'):!!/^true$/i.test(e)||!/^false$/i.test(e)&&(/^\d+/.test(e)?parseInt(e):/^\d\.+/.test(e)?parseFloat(e):/^\w/i.test(e)?`"${e}"`:e);try{return JSON.parse(`{"__weld__":${t}}`).__weld__}catch(t){return console.error("Invalid binding data:",e,t),{}}},r=(t,e={})=>{var r="string"==typeof t?n(t):t;if(e)for(var d in e)d.startsWith("on")&&"function"==typeof e[d]?r.addEventListener(d.slice(2).toLowerCase(),e[d]):d in r&&r[d]!==e[d]?r[d]=e[d]:r.hasAttribute(d)&&r.getAttribute(d)===e[d]||r.setAttribute(d,e[d]);return r},n=t=>{let e,r,d=[];var n;for(n of[...t.matchAll(/([#.]*)(\w+)/gi)])r||"#"!==n[1]?"."===n[1]?d.push(n[2]):e=e||n[2]:r=n[2];t=document.createElement(e);return r&&(t.id=r),d.length&&t.classList.add(...d),t},d=(t,e)=>{Array.isArray(e)||(e=[e]);var r,d=document.createDocumentFragment();for(r of e)null!=r&&d.appendChild("string"==typeof r?document.createTextNode(r):r);t.appendChild(d)};"function"==typeof define&&define.amd?define(()=>i):"undefined"!=typeof module&&module.exports?module.exports=i:t.weld=i})(this);
